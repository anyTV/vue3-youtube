(function(t,y){typeof exports=="object"&&typeof module<"u"?module.exports=y(require("vue")):typeof define=="function"&&define.amd?define(["vue"],y):(t=typeof globalThis<"u"?globalThis:t||self,t.GithubPackagesUiLibrary=y(t.Vue))})(this,function(t){"use strict";var y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k={exports:{}};(function(e,v){(function(r,o){e.exports=o()})(y,function(r){return function(o,a){if(a==null&&(a={fuzzy:!0}),/youtu\.?be/.test(o)){var i,f=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(i=0;i<f.length;++i)if(f[i].test(o))return f[i].exec(o)[1];if(a.fuzzy){var l=o.split(/[\/\&\?=#\.\s]/g);for(i=0;i<l.length;++i)if(/^[^#\&\?]{11}$/.test(l[i]))return l[i]}}return null}})})(k);var R=k.exports;const A=_(R),B={props:["wrapperStyle"],mounted(){this.$emit("load",{target:this.$el})}},S=(e,v)=>{const r=e.__vccOpts||e;for(const[o,a]of v)r[o]=a;return r};function E(e,v,r,o,a,i){return t.openBlock(),t.createElementBlock("div",{style:t.normalizeStyle(r.wrapperStyle)},null,4)}const x=S(B,[["render",E]]),U={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function Y({player:e}){function v(n,c,d){e.value?.cueVideoById(n,c,d)}function r(n,c,d){e.value?.loadVideoById(n,c,d)}function o(n,c,d){e.value?.cueVideoByUrl(n,c,d)}function a(n,c,d){e.value?.loadVideoByUrl(n,c,d)}function i(n,c,d,I){e.value?.cuePlaylist(n,c,d,I)}function f(n,c,d,I){e.value?.loadPlaylist(n,c,d,I)}function l(){e.value?.playVideo()}function h(){e.value?.pauseVideo()}function w(){e.value?.stopVideo()}function P(n,c){e.value?.seekTo(n,c)}function V(){e.value?.nextVideo()}function m(){e.value?.previousVideo()}function u(n){e.value?.playVideoAt(n)}function b(){e.value?.mute()}function T(){e.value?.unMute()}function p(){return e.value?e.value.isMuted():!1}function g(n){e.value?.setVolume(n)}function s(){return e.value?e.value.getVolume():0}function C(){return e.value?e.value.getPlaybackRate():0}function D(n){e.value?.setPlaybackRate(n)}function L(){return e.value?e.value.getAvailablePlaybackRates():[]}function N(n){e.value?.setLoop(n)}function $(n){e.value?.setShuffle(n)}function z(){return e.value?e.value.getVideoLoadedFraction():0}function Q(){return e.value?e.value.getPlayerState():U.UNSTARTED}function j(){return e.value?e.value.getCurrentTime():0}function F(){return e.value?e.value.getPlaybackQuality():"default"}function M(n){e.value?.setPlaybackQuality(n)}function G(){return e.value?e.value.getAvailableQualityLevels():[]}function q(){return e.value?e.value.getDuration():0}function O(){return e.value?e.value.getVideoUrl():""}function H(){return e.value?e.value.getVideoEmbedCode():""}function J(){return e.value?e.value.getPlaylist():[]}function K(){return e.value?e.value.getPlaylistIndex():0}return{cueVideoById:v,loadVideoById:r,cueVideoByUrl:o,loadVideoByUrl:a,cuePlaylist:i,loadPlaylist:f,playVideo:l,pauseVideo:h,stopVideo:w,seekTo:P,nextVideo:V,previousVideo:m,playVideoAt:u,mute:b,unMute:T,isMuted:p,setVolume:g,getVolume:s,getPlaybackRate:C,setPlaybackRate:D,getAvailablePlaybackRates:L,setLoop:N,setShuffle:$,getVideoLoadedFraction:z,getPlayerState:Q,getCurrentTime:j,getPlaybackQuality:F,setPlaybackQuality:M,getAvailableQualityLevels:G,getDuration:q,getVideoUrl:O,getVideoEmbedCode:H,getPlaylist:J,getPlaylistIndex:K}}return t.defineComponent({__name:"YouTube",props:{src:{},height:{default:360},width:{default:640},host:{default:"https://www.youtube.com"},vars:{}},emits:["ready","state-change","playback-quality-change","playback-rate-change","error","api-change","autoplay-blocked"],setup(e,{expose:v,emit:r}){const o=e,a=r,i=t.computed(()=>A(o.src)||o.src),f=t.computed(()=>({width:`${o.width}px`,height:`${o.height}px`,position:"relative"}));t.ref();const l=t.ref(),h=t.ref(!1),w=t.ref(!1);t.ref({position:"absolute",top:"0",left:"0",width:"100%",height:"100%"});function P(m){h.value||(h.value=!0,l.value=new YT.Player(m,{height:o.height,width:o.width,videoId:i.value,host:o.host,playerVars:o.vars,events:{onReady:u=>{w.value=!0,setTimeout(()=>a("ready",u))},onStateChange:u=>a("state-change",u),onPlaybackQualityChange:u=>a("playback-quality-change",u),onPlaybackRateChange:u=>a("playback-rate-change",u),onError:u=>a("error",u),onApiChange:u=>a("api-change",u),onAutoplayBlocked:u=>{a("autoplay-blocked",u)}}}))}function V(m){const u=m.target;let b=()=>{};new Promise(s=>b=s).then(()=>P(u)),window.onYouTubeIframeAPIReadyResolvers||(window.onYouTubeIframeAPIReadyResolvers=[]),window.onYouTubeIframeAPIReady||(window.onYouTubeIframeAPIReady=()=>{window.onYouTubeIframeAPIReadyResolvers?.forEach(s=>{s()})});const p="youtube-iframe-js-api-script";let g=document.getElementById(p);if(g)b();else{window.onYouTubeIframeAPIReadyResolvers?.push(b),g=document.createElement("script"),g.id=p,g.src="https://www.youtube.com/iframe_api";const s=document.getElementsByTagName("script")[0];s&&s.parentNode&&s.parentNode.insertBefore(g,s)}}return t.watch(()=>o.width,()=>{l.value?.setSize(+o.width,+o.height)}),t.watch(()=>o.height,()=>{l.value?.setSize(+o.width,+o.height)}),t.watch(()=>o.src,()=>{h.value&&l.value&&l.value?.loadVideoById(i.value)}),t.onBeforeUnmount(()=>{l.value?.destroy()}),v({player:t.readonly(l),initiated:t.readonly(h),ready:t.readonly(w),...Y({player:l})}),(m,u)=>(t.openBlock(),t.createElementBlock("div",{style:t.normalizeStyle(f.value)},[t.createVNode(x,{wrapperStyle:f.value,onLoad:V},null,8,["wrapperStyle"])],4))}})});
